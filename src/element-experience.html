<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="shared-styles.html">

<dom-module id="element-experience">
  <template>

    <style include="shared-styles"></style>
    <style is="custom-style" include="iron-flex iron-flex-alignment"></style>

    <custom-style>
      <style is="custom-style">
        paper-chip {
          display: inline;
        }

        h2 {
          margin-bottom: 2rem;
        }

        h3,
        h4 {
          font-size: 1.125rem;
          margin: 0;
          line-height: 1.75rem;
        }

        h3 {
          font-size: var(--txt-m);
          font-weight: bold;
        }

        h4 {
          font-weight: normal;
          text-transform: none;
        }

        .grid {
          display: grid;
          grid-gap: 1rem;
        }

        @media (max-width: 599px) {
          .grid {
            grid-template-columns: repeat(1, 1fr);
          }
        }

        @media (min-width: 600px) {
          .grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        @media (min-width: 900px) {
          .grid {
            grid-template-columns: repeat(3, 1fr);
          }
        }

        .timespan {
          color: var(--tint-dark-grey);
          font-weight: 100;
        }

        .location {
          color: var(--tint-dark-grey);
          font-weight: 100;
        }

        .card-content {
          padding: 1rem;
        }
      </style>
    </custom-style>

    <section style="min-height: 10em;" class="grey">
      <div style="margin: 0 auto;" class="large center ">

        <div class="center-text">
          <span class="emoji">üë®‚Äçüíª
            <span>
        </div>

        <h2 class="center-text">Relevant work experience</h2>

        <div class="grid">
          <template is="dom-repeat" items="[[xps]]">
            <div class="card">
              <div class="card-content">
                <h3 class="role">[[item.role]]</h3>
                <h4 class="company">[[item.company]]</h4>
                <h4 class="timespan">[[item.timespan]]</h4>
                <h4 class="location">[[item.location]]</h4>
              </div>
            </div>
          </template>
        </div>

        <div id="linkedin" class="center center-text" style="margin-top: 2rem;">
          <a href="https://www.linkedin.com/in/iameirik/" class="button linkedin" target="_blank" data-category="experienceLinkedIn"
            on-click="_onClick">See more on LinkedIn</a>
        </div>

      </div>

    </section>

  </template>

  <script>
    class ElementExperience extends Polymer.Element {
      static get is() {
        return 'element-experience'
      }

      static get properties() {
        return {
          xps: {
            type: Array,
            value: () => {
              return [{
                  "role": "Product Designer",
                  "company": "Schibsted Media Group",
                  "timespan": "May 2016 ‚Äì Present",
                  "location": "Barcelona, Spain"
                },
                {
                  "role": "UX Designer",
                  "company": "Schibsted Media Group",
                  "timespan": "Sep 2015 - May 2016 ¬∑ 9 months",
                  "location": "Oslo, Norway"
                },
                {
                  "role": "Product Manager Web",
                  "company": "Norsk Tipping",
                  "timespan": "Sep 2014 - Sep 2015 ¬∑ 1 year 1 month",
                  "location": "Hamar, Norway"
                },
                {
                  "role": "Lead Designer",
                  "company": "Norsk Tipping",
                  "timespan": "Sep 2013 - Sep 2014 ¬∑ 1 year 1 month",
                  "location": "Hamar, Norway"
                },
                {
                  "role": "Interaction Designer",
                  "company": "Norsk Tipping",
                  "timespan": "Sep 2012 - Sep 2013 ¬∑ 1 year",
                  "location": "Hamar, Norway"
                },
                {
                  "role": "Webdesigner",
                  "company": "Volda University College",
                  "timespan": "Mar 2008 - Oct 2011 ¬∑ 4 years",
                  "location": "Volda, Norway"
                }
              ]
            }
          }
        }
      }

      _onClick(e) {
        const url = e.currentTarget.getAttribute('href');
        const category = e.currentTarget.getAttribute('data-category') || '';
        gtag('event', 'click', {
          'event_category': category,
          'event_label': url,
          'transport_type': 'beacon'
        });
      }

    }

    window.customElements.define(ElementExperience.is, ElementExperience);
  </script>

</dom-module>